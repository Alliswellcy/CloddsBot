<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, viewport-fit=cover">
  <title>Clodds</title>
  <link rel="icon" href="https://cloddsbot.com/logo.png" type="image/png">
  <link rel="stylesheet" href="css/app.css">
</head>
<body>
  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar" aria-label="Chat history">
      <div class="sidebar-header">
        <img class="sidebar-header-logo" src="https://cloddsbot.com/logo.png" alt="C" onerror="this.style.display='none'" />
        <span class="sidebar-header-title">Clodds</span>
        <button class="new-chat-btn" id="new-chat-btn" title="New chat">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4L16.5 3.5z"/>
          </svg>
        </button>
      </div>
      <div class="sidebar-search">
        <input class="sidebar-search-input" type="text" placeholder="Search chats..." aria-label="Search conversations" />
      </div>
      <div class="session-list" role="list" aria-label="Conversations"></div>
    </aside>

    <div class="sidebar-backdrop"></div>

    <!-- Main -->
    <main class="main" aria-label="Chat">
      <div class="chat-header">
        <button class="sidebar-toggle" id="sidebar-toggle" title="Toggle sidebar">&#9776;</button>
        <div class="chat-header-title" id="header-title">Clodds</div>
        <div class="status-dot" id="status-dot" title="Connecting..."></div>
      </div>
      <div class="reconnect-banner" id="reconnect-banner">
        <span class="reconnect-spinner"></span> Connection lost. Reconnecting...
      </div>

      <div id="messages" role="log" aria-label="Messages" aria-live="polite">
        <div class="welcome" id="welcome">
          <img class="welcome-logo" src="https://cloddsbot.com/logo.png" alt="" onerror="this.style.display='none'" />
          <h2>What can I help you with?</h2>
          <p>Trade prediction markets, analyze crypto, manage positions across 700+ markets on Polymarket, Kalshi, Hyperliquid and more.</p>
          <div class="welcome-grid">
            <div class="welcome-card" data-msg="What markets are trending right now? Show me the top movers.">
              <span class="welcome-card-icon">&#x1F4CA;</span>
              <div class="welcome-card-text">
                <span class="welcome-card-title">Trending markets</span>
                <span class="welcome-card-desc">Top movers across Polymarket, Kalshi &amp; more</span>
              </div>
            </div>
            <div class="welcome-card" data-msg="/positions">
              <span class="welcome-card-icon">&#x1F4BC;</span>
              <div class="welcome-card-text">
                <span class="welcome-card-title">My positions</span>
                <span class="welcome-card-desc">View open trades, P&amp;L, and exit signals</span>
              </div>
            </div>
            <div class="welcome-card" data-msg="Find me high-conviction arbitrage opportunities right now">
              <span class="welcome-card-icon">&#x26A1;</span>
              <div class="welcome-card-text">
                <span class="welcome-card-title">Find arbitrage</span>
                <span class="welcome-card-desc">Cross-platform price gaps and mispriced odds</span>
              </div>
            </div>
            <div class="welcome-card" data-msg="/help">
              <span class="welcome-card-icon">&#x1F680;</span>
              <div class="welcome-card-text">
                <span class="welcome-card-title">Get started</span>
                <span class="welcome-card-desc">See all commands, skills, and what I can do</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <button class="scroll-bottom" id="scroll-bottom" title="Scroll to bottom">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
      </button>

      <div class="typing" id="typing">
        <div class="msg-avatar bot-avatar">
          <img class="avatar-img" src="https://cloddsbot.com/logo.png" alt="C" onerror="this.remove();this.parentElement.textContent='C'" />
        </div>
        <div class="typing-dots"><span></span><span></span><span></span></div>
      </div>

      <div class="input-area">
        <div class="cmd-palette" id="cmd-palette"></div>
        <div class="file-preview" id="file-preview" style="display:none">
          <span class="file-preview-icon"></span>
          <span class="file-preview-name"></span>
          <button class="file-preview-remove" title="Remove">&times;</button>
        </div>
        <div class="input-wrap">
          <button class="attach-btn" id="attach-btn" title="Attach file">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21.44 11.05l-9.19 9.19a6 6 0 01-8.49-8.49l9.19-9.19a4 4 0 015.66 5.66l-9.2 9.19a2 2 0 01-2.83-2.83l8.49-8.48"/>
            </svg>
          </button>
          <input type="file" id="file-input" hidden accept="image/*,.pdf,.txt,.csv,.json" />
          <textarea id="input" placeholder="Ask anything... (type / for commands)" autocomplete="off" rows="1" aria-label="Message input"></textarea>
          <button id="send-btn" title="Send">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
              <line x1="22" y1="2" x2="11" y2="13"></line>
              <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
            </svg>
          </button>
        </div>
        <div class="input-hint">
          <span>Try: <kbd>/help</kbd> <kbd>/markets</kbd> <kbd>/positions</kbd></span>
          <span><kbd>Enter</kbd> send &middot; <kbd>Shift+Enter</kbd> new line</span>
        </div>
      </div>
    </main>
  </div>

  <script type="module" src="js/app.js"></script>
</body>
</html>
